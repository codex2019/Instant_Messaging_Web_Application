{"ast":null,"code":"import _slicedToArray from\"/Users/macx/Desktop/final-project-superteam/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import md5 from'md5';import axios from'axios';import'../App.css';var Login=function Login(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),username=_React$useState2[0],setUsername=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];var validate=function validate(){var body={username:username,password:md5(password)};axios.post('/users/login',body,{withCredentials:true}).then(function(res){if(res.data){document.cookie=\"id=\".concat(res.data._id);document.cookie=\"username=\".concat(res.data.username);document.cookie=\"password=\".concat(res.data.password);document.cookie=\"firstName=\".concat(res.data.firstName);document.cookie=\"lastName=\".concat(res.data.lastName);window.location='/messenger';}else{document.cookie='id=id';document.cookie='username=username';document.cookie='password=password';document.cookie='firstName=firstName';document.cookie='lastName=lastName';setError('Username or password incorrect!');}}).catch(console.log);};return React.createElement(\"div\",{className:\"login\"},React.createElement(\"div\",{className:\"form\"},React.createElement(\"h1\",null,\"Messenger\"),React.createElement(\"input\",{placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),React.createElement(\"br\",null),React.createElement(\"input\",{placeholder:\"Password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),React.createElement(\"br\",null),React.createElement(\"button\",{onClick:validate},\"Login\"),React.createElement(\"p\",{className:\"error\"},error)));};export default Login;","map":{"version":3,"sources":["/Users/macx/Desktop/final-project-superteam/src/pages/login.js"],"names":["React","md5","axios","Login","useState","username","setUsername","password","setPassword","error","setError","validate","body","post","withCredentials","then","res","data","document","cookie","_id","firstName","lastName","window","location","catch","console","log","e","target","value"],"mappings":"8HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,KAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,qBACgBH,KAAK,CAACI,QAAN,CAAe,EAAf,CADhB,oDACTC,QADS,qBACCC,WADD,0CAEgBN,KAAK,CAACI,QAAN,CAAe,EAAf,CAFhB,qDAETG,QAFS,qBAECC,WAFD,0CAGUR,KAAK,CAACI,QAAN,CAAe,EAAf,CAHV,qDAGTK,KAHS,qBAGFC,QAHE,qBAKhB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAMC,CAAAA,IAAI,CAAG,CACTP,QAAQ,CAARA,QADS,CAETE,QAAQ,CAAEN,GAAG,CAACM,QAAD,CAFJ,CAAb,CAIAL,KAAK,CAACW,IAAN,CAAW,cAAX,CAA2BD,IAA3B,CAAiC,CAAEE,eAAe,CAAE,IAAnB,CAAjC,EACKC,IADL,CACU,SAACC,GAAD,CAAS,CACX,GAAIA,GAAG,CAACC,IAAR,CAAc,CACVC,QAAQ,CAACC,MAAT,cAAwBH,GAAG,CAACC,IAAJ,CAASG,GAAjC,EACAF,QAAQ,CAACC,MAAT,oBAA8BH,GAAG,CAACC,IAAJ,CAASZ,QAAvC,EACAa,QAAQ,CAACC,MAAT,oBAA8BH,GAAG,CAACC,IAAJ,CAASV,QAAvC,EACAW,QAAQ,CAACC,MAAT,qBAA+BH,GAAG,CAACC,IAAJ,CAASI,SAAxC,EACAH,QAAQ,CAACC,MAAT,oBAA8BH,GAAG,CAACC,IAAJ,CAASK,QAAvC,EAEAC,MAAM,CAACC,QAAP,CAAkB,YAAlB,CACH,CARD,IAQO,CACHN,QAAQ,CAACC,MAAT,CAAkB,OAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,mBAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,mBAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,qBAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,mBAAlB,CACAT,QAAQ,CAAC,iCAAD,CAAR,CACH,CACJ,CAlBL,EAmBKe,KAnBL,CAmBWC,OAAO,CAACC,GAnBnB,EAoBH,CAzBD,CA2BA,MACI,4BAAK,SAAS,CAAC,OAAf,EACI,2BAAK,SAAS,CAAC,MAAf,EACI,0CADJ,CAEI,6BACI,WAAW,CAAC,UADhB,CAEI,KAAK,CAAEtB,QAFX,CAGI,QAAQ,CAAE,kBAAAuB,CAAC,QAAItB,CAAAA,WAAW,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAHf,EAFJ,CAOI,8BAPJ,CAQI,6BACI,WAAW,CAAC,UADhB,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAEvB,QAHX,CAII,QAAQ,CAAE,kBAAAqB,CAAC,QAAIpB,CAAAA,WAAW,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAJf,EARJ,CAcI,8BAdJ,CAeI,8BAAQ,OAAO,CAAEnB,QAAjB,UAfJ,CAgBI,yBAAG,SAAS,CAAC,OAAb,EAAsBF,KAAtB,CAhBJ,CADJ,CADJ,CAsBH,CAtDD,CAwDA,cAAeN,CAAAA,KAAf","sourcesContent":["import React from 'react';\nimport md5 from 'md5';\nimport axios from 'axios';\nimport '../App.css';\n\nconst Login = () => {\n    const [username, setUsername] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [error, setError] = React.useState('');\n\n    const validate = () => {\n        const body = {\n            username,\n            password: md5(password),\n        };\n        axios.post('/users/login', body, { withCredentials: true })\n            .then((res) => {\n                if (res.data) {\n                    document.cookie = `id=${res.data._id}`;\n                    document.cookie = `username=${res.data.username}`;\n                    document.cookie = `password=${res.data.password}`;\n                    document.cookie = `firstName=${res.data.firstName}`;\n                    document.cookie = `lastName=${res.data.lastName}`;\n\n                    window.location = '/messenger';\n                } else {\n                    document.cookie = 'id=id';\n                    document.cookie = 'username=username';\n                    document.cookie = 'password=password';\n                    document.cookie = 'firstName=firstName';\n                    document.cookie = 'lastName=lastName';\n                    setError('Username or password incorrect!')\n                }\n            })\n            .catch(console.log);\n    };\n\n    return (\n        <div className=\"login\">\n            <div className=\"form\">\n                <h1>Messenger</h1>\n                <input\n                    placeholder=\"Username\"\n                    value={username}\n                    onChange={e => setUsername(e.target.value)}\n                />\n                <br />\n                <input\n                    placeholder=\"Password\"\n                    type=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                />\n                <br />\n                <button onClick={validate}>Login</button>\n                <p className=\"error\">{error}</p>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}