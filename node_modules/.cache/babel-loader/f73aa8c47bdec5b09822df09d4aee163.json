{"ast":null,"code":"import _slicedToArray from\"/Users/macx/Desktop/final-project-superteam/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import axios from'axios';import Cookies from'js-cookie';import{connect}from'react-redux';import{setIsLoading}from'../redux/actions/userActions';import{updateMessages,handleTextChange,submitMessage}from'../redux/actions/messageActions';import{updateGroups,handleGroupChange,submitGroup}from'../redux/actions/groupActions';import'../App.css';var Messenger=function Messenger(_ref){var dispatch=_ref.dispatch,isLoading=_ref.isLoading,text=_ref.text,currentGroup=_ref.currentGroup,groups=_ref.groups,messages=_ref.messages;React.useEffect(function(){axios.get('/users/verify',{withCredentials:true}).then(function(res){console.log(res);}).catch(function(){window.location='/';});axios.get('/users/getUsers',{withCredentials:true}).then(function(res){setUserList(res.data);}).catch(function(e){console.log(e);});axios.get('/messenger/getMessages',{withCredentials:true}).then(function(res){dispatch(updateMessages(res.data));}).catch(function(e){console.log(e);});axios.get('/messenger/getGroups',{withCredentials:true}).then(function(res){dispatch(updateGroups(res.data));dispatch(setIsLoading(false));}).catch(function(e){console.log(e);});},[dispatch]);var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),userList=_React$useState2[0],setUserList=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),users=_React$useState4[0],setUsers=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),query=_React$useState6[0],setQuery=_React$useState6[1];var logOut=function logOut(){axios.post('/users/logout').then(function(){document.cookie='id=id';document.cookie='username=username';document.cookie='password=password';document.cookie='firstName=firstName';document.cookie='lastName=lastName';window.location='/';}).catch(function(e){console.log(e);});};var search=function search(e){setQuery(e.target.value);var regex='/'+e.target.value.replace(new RegExp('[^a-zA-Z0-9]'),'')+'/';var temp=[];if(regex==='//'){setUsers([]);}else{for(var i=0;i<userList.length;i++){// eslint-disable-next-line\nif(userList[i].username.match(eval(regex))){if(userList[i].username!==Cookies.get('username')){temp.push(userList[i]);}}}}setUsers(temp);};var sendMessage=function sendMessage(){dispatch(submitMessage());};var createChat=function createChat(them){var body={you:[Cookies.get('username'),Cookies.get('firstName')+' '+Cookies.get('lastName')],them:them};dispatch(submitGroup(body));setQuery('');};var textChange=function textChange(e){dispatch(handleTextChange(e.target.value));};var groupChange=function groupChange(group){dispatch(handleGroupChange(group));};var inGroup=function inGroup(members){for(var i=0;i<members.length;i++){if(Cookies.get('username')===members[i][0]){return true;}}return false;};var mainComponent=React.createElement(\"div\",{className:\"main\"},React.createElement(\"div\",{className:\"side-bar\"},groups.map(function(group,i){return inGroup(group.members)?React.createElement(\"div\",{key:i},React.createElement(\"button\",{onClick:function onClick(){return groupChange(group);}},group.members.map(function(member,i){return member[0]!==Cookies.get('username')&&member[1];}),React.createElement(\"br\",null))):React.createElement(\"div\",{key:i});})),React.createElement(\"div\",{className:\"chat-area\"},messages.map(function(message,i){return message.group===currentGroup._id&&message.author===Cookies.get('firstName')+' '+Cookies.get('lastName')?React.createElement(\"div\",{key:i,className:\"message right\"},React.createElement(\"p\",null,message.author),React.createElement(\"div\",{className:\"message-container\"},React.createElement(\"div\",{className:\"your-message\"},message.message))):message.group===currentGroup._id&&message.author!==Cookies.get('firstName')+' '+Cookies.get('lastName')&&React.createElement(\"div\",{key:i,className:\"message\"},React.createElement(\"p\",null,message.author),React.createElement(\"div\",{className:\"message-container\"},React.createElement(\"div\",{className:\"other-message\"},message.message)));}),React.createElement(\"div\",{className:\"message-field\"},React.createElement(\"input\",{placeholder:\"Send Message...\",value:text,onChange:textChange,onKeyPress:function onKeyPress(e){if(e.key==='Enter'){sendMessage();}}}),React.createElement(\"button\",{onClick:sendMessage},\"Send\"))));if(query!==''){mainComponent=React.createElement(\"div\",null,users.map(function(user,i){return React.createElement(\"div\",{key:i,className:\"search-result\"},React.createElement(\"div\",null,React.createElement(\"h3\",null,user.firstName,\" \",user.surname),React.createElement(\"p\",null,user.username)),React.createElement(\"button\",{onClick:function onClick(){return createChat([user.username,user.firstName+' '+user.lastName]);}},\"Chat\"));}));}return React.createElement(\"div\",{className:\"messenger\"},React.createElement(\"nav\",null,React.createElement(\"input\",{placeholder:\"Search User...\",value:query,onChange:search}),React.createElement(\"button\",{onClick:logOut},\"Log Out\")),mainComponent);};var mapStateToProps=function mapStateToProps(state){return{isLoading:state.userReducer.isLoading,text:state.messageReducer.text,currentGroup:state.groupReducer.group,groups:state.groupReducer.groups,messages:state.messageReducer.messages};};export default connect(mapStateToProps)(Messenger);","map":{"version":3,"sources":["/Users/macx/Desktop/final-project-superteam/src/pages/messenger.js"],"names":["React","axios","Cookies","connect","setIsLoading","updateMessages","handleTextChange","submitMessage","updateGroups","handleGroupChange","submitGroup","Messenger","dispatch","isLoading","text","currentGroup","groups","messages","useEffect","get","withCredentials","then","res","console","log","catch","window","location","setUserList","data","e","useState","userList","users","setUsers","query","setQuery","logOut","post","document","cookie","search","target","value","regex","replace","RegExp","temp","i","length","username","match","eval","push","sendMessage","createChat","them","body","you","textChange","groupChange","group","inGroup","members","mainComponent","map","member","message","_id","author","key","user","firstName","surname","lastName","mapStateToProps","state","userReducer","messageReducer","groupReducer"],"mappings":"8HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,YAAT,KAA6B,8BAA7B,CACA,OAASC,cAAT,CAAyBC,gBAAzB,CAA2CC,aAA3C,KAAgE,iCAAhE,CACA,OAASC,YAAT,CAAuBC,iBAAvB,CAA0CC,WAA1C,KAA6D,+BAA7D,CACA,MAAO,YAAP,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAmE,IAAhEC,CAAAA,QAAgE,MAAhEA,QAAgE,CAAtDC,SAAsD,MAAtDA,SAAsD,CAA3CC,IAA2C,MAA3CA,IAA2C,CAArCC,YAAqC,MAArCA,YAAqC,CAAvBC,MAAuB,MAAvBA,MAAuB,CAAfC,QAAe,MAAfA,QAAe,CACjFjB,KAAK,CAACkB,SAAN,CAAgB,UAAM,CAClBjB,KAAK,CAACkB,GAAN,CAAU,eAAV,CAA2B,CAAEC,eAAe,CAAE,IAAnB,CAA3B,EACKC,IADL,CACU,SAACC,GAAD,CAAS,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAHL,EAIKG,KAJL,CAIW,UAAM,CACTC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACH,CANL,EAOA1B,KAAK,CAACkB,GAAN,CAAU,iBAAV,CAA6B,CAAEC,eAAe,CAAE,IAAnB,CAA7B,EACKC,IADL,CACU,SAACC,GAAD,CAAS,CACXM,WAAW,CAACN,GAAG,CAACO,IAAL,CAAX,CACH,CAHL,EAIKJ,KAJL,CAIW,SAACK,CAAD,CAAO,CACVP,OAAO,CAACC,GAAR,CAAYM,CAAZ,EACH,CANL,EAOA7B,KAAK,CAACkB,GAAN,CAAU,wBAAV,CAAoC,CAAEC,eAAe,CAAE,IAAnB,CAApC,EACKC,IADL,CACU,SAACC,GAAD,CAAS,CACXV,QAAQ,CAACP,cAAc,CAACiB,GAAG,CAACO,IAAL,CAAf,CAAR,CACH,CAHL,EAIKJ,KAJL,CAIW,SAACK,CAAD,CAAO,CACVP,OAAO,CAACC,GAAR,CAAYM,CAAZ,EACH,CANL,EAOA7B,KAAK,CAACkB,GAAN,CAAU,sBAAV,CAAkC,CAAEC,eAAe,CAAE,IAAnB,CAAlC,EACKC,IADL,CACU,SAACC,GAAD,CAAS,CACXV,QAAQ,CAACJ,YAAY,CAACc,GAAG,CAACO,IAAL,CAAb,CAAR,CACAjB,QAAQ,CAACR,YAAY,CAAC,KAAD,CAAb,CAAR,CACH,CAJL,EAKKqB,KALL,CAKW,SAACK,CAAD,CAAO,CACVP,OAAO,CAACC,GAAR,CAAYM,CAAZ,EACH,CAPL,EAQH,CA9BD,CA8BG,CAAClB,QAAD,CA9BH,EADiF,oBAiCjDZ,KAAK,CAAC+B,QAAN,CAAe,EAAf,CAjCiD,oDAiC1EC,QAjC0E,qBAiChEJ,WAjCgE,0CAkCvD5B,KAAK,CAAC+B,QAAN,CAAe,EAAf,CAlCuD,qDAkC1EE,KAlC0E,qBAkCnEC,QAlCmE,0CAmCvDlC,KAAK,CAAC+B,QAAN,CAAe,EAAf,CAnCuD,qDAmC1EI,KAnC0E,qBAmCnEC,QAnCmE,qBAqCjF,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBpC,KAAK,CAACqC,IAAN,CAAW,eAAX,EACKjB,IADL,CACU,UAAM,CACRkB,QAAQ,CAACC,MAAT,CAAkB,OAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,mBAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,mBAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,qBAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,mBAAlB,CAEAd,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACH,CATL,EAUKF,KAVL,CAUW,SAACK,CAAD,CAAO,CACVP,OAAO,CAACC,GAAR,CAAYM,CAAZ,EACH,CAZL,EAaH,CAdD,CAgBA,GAAMW,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACX,CAAD,CAAO,CAClBM,QAAQ,CAACN,CAAC,CAACY,MAAF,CAASC,KAAV,CAAR,CAEA,GAAIC,CAAAA,KAAK,CAAG,IAAMd,CAAC,CAACY,MAAF,CAASC,KAAT,CAAeE,OAAf,CAAuB,GAAIC,CAAAA,MAAJ,CAAW,cAAX,CAAvB,CAAmD,EAAnD,CAAN,CAA+D,GAA3E,CAEA,GAAMC,CAAAA,IAAI,CAAG,EAAb,CACA,GAAIH,KAAK,GAAK,IAAd,CAAoB,CAChBV,QAAQ,CAAC,EAAD,CAAR,CACH,CAFD,IAEO,CACH,IAAK,GAAIc,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGhB,QAAQ,CAACiB,MAA7B,CAAqCD,CAAC,EAAtC,CAA0C,CACtC;AACA,GAAIhB,QAAQ,CAACgB,CAAD,CAAR,CAAYE,QAAZ,CAAqBC,KAArB,CAA2BC,IAAI,CAACR,KAAD,CAA/B,CAAJ,CAA6C,CACzC,GAAIZ,QAAQ,CAACgB,CAAD,CAAR,CAAYE,QAAZ,GAAyBhD,OAAO,CAACiB,GAAR,CAAY,UAAZ,CAA7B,CAAsD,CAClD4B,IAAI,CAACM,IAAL,CAAUrB,QAAQ,CAACgB,CAAD,CAAlB,EACH,CACJ,CACJ,CACJ,CACDd,QAAQ,CAACa,IAAD,CAAR,CACH,CAnBD,CAqBA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB1C,QAAQ,CAACL,aAAa,EAAd,CAAR,CACH,CAFD,CAIA,GAAMgD,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAU,CACzB,GAAMC,CAAAA,IAAI,CAAG,CACTC,GAAG,CAAE,CAACxD,OAAO,CAACiB,GAAR,CAAY,UAAZ,CAAD,CAA0BjB,OAAO,CAACiB,GAAR,CAAY,WAAZ,EAA2B,GAA3B,CAAiCjB,OAAO,CAACiB,GAAR,CAAY,UAAZ,CAA3D,CADI,CAETqC,IAAI,CAAEA,IAFG,CAAb,CAIA5C,QAAQ,CAACF,WAAW,CAAC+C,IAAD,CAAZ,CAAR,CACArB,QAAQ,CAAC,EAAD,CAAR,CACH,CAPD,CASA,GAAMuB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAC7B,CAAD,CAAO,CACtBlB,QAAQ,CAACN,gBAAgB,CAACwB,CAAC,CAACY,MAAF,CAASC,KAAV,CAAjB,CAAR,CACH,CAFD,CAIA,GAAMiB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC3BjD,QAAQ,CAACH,iBAAiB,CAACoD,KAAD,CAAlB,CAAR,CACH,CAFD,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,OAAD,CAAa,CACzB,IAAK,GAAIf,CAAAA,CAAC,CAAC,CAAX,CAAcA,CAAC,CAAGe,OAAO,CAACd,MAA1B,CAAkCD,CAAC,EAAnC,CAAuC,CACnC,GAAI9C,OAAO,CAACiB,GAAR,CAAY,UAAZ,IAA4B4C,OAAO,CAACf,CAAD,CAAP,CAAW,CAAX,CAAhC,CAA+C,CAC3C,MAAO,KAAP,CACH,CACJ,CACD,MAAO,MAAP,CACH,CAPD,CASA,GAAIgB,CAAAA,aAAa,CACb,2BAAK,SAAS,CAAC,MAAf,EACI,2BAAK,SAAS,CAAC,UAAf,EACKhD,MAAM,CAACiD,GAAP,CAAW,SAACJ,KAAD,CAAQb,CAAR,QACPc,CAAAA,OAAO,CAACD,KAAK,CAACE,OAAP,CAAR,CACI,2BAAK,GAAG,CAAEf,CAAV,EACI,8BAAQ,OAAO,CAAE,yBAAMY,CAAAA,WAAW,CAACC,KAAD,CAAjB,EAAjB,EACKA,KAAK,CAACE,OAAN,CAAcE,GAAd,CAAkB,SAACC,MAAD,CAASlB,CAAT,QACdkB,CAAAA,MAAM,CAAC,CAAD,CAAN,GAAchE,OAAO,CAACiB,GAAR,CAAY,UAAZ,CAAf,EACI+C,MAAM,CAAC,CAAD,CAFK,EAAlB,CADL,CAMI,8BANJ,CADJ,CADJ,CAYI,2BAAK,GAAG,CAAElB,CAAV,EAbI,EAAX,CADL,CADJ,CAmBI,2BAAK,SAAS,CAAC,WAAf,EACK/B,QAAQ,CAACgD,GAAT,CAAa,SAACE,OAAD,CAAUnB,CAAV,QACRmB,CAAAA,OAAO,CAACN,KAAR,GAAkB9C,YAAY,CAACqD,GAAhC,EAAyCD,OAAO,CAACE,MAAR,GAAmBnE,OAAO,CAACiB,GAAR,CAAY,WAAZ,EAA2B,GAA3B,CAAiCjB,OAAO,CAACiB,GAAR,CAAY,UAAZ,CAA9F,CACI,2BAAK,GAAG,CAAE6B,CAAV,CAAa,SAAS,CAAC,eAAvB,EACI,6BAAImB,OAAO,CAACE,MAAZ,CADJ,CAEI,2BAAK,SAAS,CAAC,mBAAf,EACI,2BAAK,SAAS,CAAC,cAAf,EACKF,OAAO,CAACA,OADb,CADJ,CAFJ,CADJ,CAUMA,OAAO,CAACN,KAAR,GAAkB9C,YAAY,CAACqD,GAAhC,EAAyCD,OAAO,CAACE,MAAR,GAAmBnE,OAAO,CAACiB,GAAR,CAAY,WAAZ,EAA2B,GAA3B,CAAiCjB,OAAO,CAACiB,GAAR,CAAY,UAAZ,CAA9F,EACI,2BAAK,GAAG,CAAE6B,CAAV,CAAa,SAAS,CAAC,SAAvB,EACI,6BAAImB,OAAO,CAACE,MAAZ,CADJ,CAEI,2BAAK,SAAS,CAAC,mBAAf,EACI,2BAAK,SAAS,CAAC,eAAf,EACKF,OAAO,CAACA,OADb,CADJ,CAFJ,CAZE,EAAb,CADL,CAwBI,2BAAK,SAAS,CAAC,eAAf,EACI,6BACI,WAAW,CAAC,iBADhB,CAEI,KAAK,CAAErD,IAFX,CAGI,QAAQ,CAAE6C,UAHd,CAII,UAAU,CAAE,oBAAC7B,CAAD,CAAO,CACf,GAAIA,CAAC,CAACwC,GAAF,GAAU,OAAd,CAAuB,CACnBhB,WAAW,GACd,CACJ,CARL,EADJ,CAWI,8BAAQ,OAAO,CAAEA,WAAjB,SAXJ,CAxBJ,CAnBJ,CADJ,CA4DA,GAAInB,KAAK,GAAK,EAAd,CAAkB,CACd6B,aAAa,CACT,+BACK/B,KAAK,CAACgC,GAAN,CAAU,SAACM,IAAD,CAAOvB,CAAP,QACP,4BAAK,GAAG,CAAEA,CAAV,CAAa,SAAS,CAAC,eAAvB,EACI,+BACI,8BAAKuB,IAAI,CAACC,SAAV,KAAsBD,IAAI,CAACE,OAA3B,CADJ,CAEI,6BAAIF,IAAI,CAACrB,QAAT,CAFJ,CADJ,CAKI,8BAAQ,OAAO,CAAE,yBAAMK,CAAAA,UAAU,CAAC,CAACgB,IAAI,CAACrB,QAAN,CAAgBqB,IAAI,CAACC,SAAL,CAAiB,GAAjB,CAAuBD,IAAI,CAACG,QAA5C,CAAD,CAAhB,EAAjB,SALJ,CADO,EAAV,CADL,CADJ,CAYH,CAED,MACI,4BAAK,SAAS,CAAC,WAAf,EACI,+BACI,6BACI,WAAW,CAAC,gBADhB,CAEI,KAAK,CAAEvC,KAFX,CAGI,QAAQ,CAAEM,MAHd,EADJ,CAMI,8BAAQ,OAAO,CAAEJ,MAAjB,YANJ,CADJ,CASK2B,aATL,CADJ,CAaH,CAhMD,CAkMA,GAAMW,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9B/D,SAAS,CAAE+D,KAAK,CAACC,WAAN,CAAkBhE,SADC,CAE9BC,IAAI,CAAE8D,KAAK,CAACE,cAAN,CAAqBhE,IAFG,CAG9BC,YAAY,CAAE6D,KAAK,CAACG,YAAN,CAAmBlB,KAHH,CAI9B7C,MAAM,CAAE4D,KAAK,CAACG,YAAN,CAAmB/D,MAJG,CAK9BC,QAAQ,CAAE2D,KAAK,CAACE,cAAN,CAAqB7D,QALD,CAAL,EAA7B,CAQA,cAAed,CAAAA,OAAO,CAACwE,eAAD,CAAP,CAAyBhE,SAAzB,CAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { connect } from 'react-redux';\nimport { setIsLoading } from '../redux/actions/userActions';\nimport { updateMessages, handleTextChange, submitMessage } from '../redux/actions/messageActions';\nimport { updateGroups, handleGroupChange, submitGroup } from '../redux/actions/groupActions';\nimport '../App.css';\n\nconst Messenger = ({ dispatch, isLoading, text, currentGroup, groups, messages }) => {\n    React.useEffect(() => {\n        axios.get('/users/verify', { withCredentials: true })\n            .then((res) => {\n                console.log(res);\n            })\n            .catch(() => {\n                window.location = '/';\n            });\n        axios.get('/users/getUsers', { withCredentials: true })\n            .then((res) => {\n                setUserList(res.data);\n            })\n            .catch((e) => {\n                console.log(e);\n            });\n        axios.get('/messenger/getMessages', { withCredentials: true })\n            .then((res) => {\n                dispatch(updateMessages(res.data));\n            })\n            .catch((e) => {\n                console.log(e);\n            });\n        axios.get('/messenger/getGroups', { withCredentials: true })\n            .then((res) => {\n                dispatch(updateGroups(res.data));\n                dispatch(setIsLoading(false));\n            })\n            .catch((e) => {\n                console.log(e);\n            });\n    }, [dispatch]);\n\n    const [userList, setUserList] = React.useState([]);\n    const [users, setUsers] = React.useState([]);\n    const [query, setQuery] = React.useState('');\n\n    const logOut = () => {\n        axios.post('/users/logout')\n            .then(() => {\n                document.cookie = 'id=id';\n                document.cookie = 'username=username';\n                document.cookie = 'password=password';\n                document.cookie = 'firstName=firstName';\n                document.cookie = 'lastName=lastName';\n\n                window.location = '/';\n            })\n            .catch((e) => {\n                console.log(e);\n            });\n    }\n\n    const search = (e) => {\n        setQuery(e.target.value);\n\n        var regex = '/' + e.target.value.replace(new RegExp('[^a-zA-Z0-9]'), '') + '/';\n\n        const temp = [];\n        if (regex === '//') {\n            setUsers([])\n        } else {\n            for (var i = 0; i < userList.length; i++) {\n                // eslint-disable-next-line\n                if (userList[i].username.match(eval(regex))) {\n                    if (userList[i].username !== Cookies.get('username')) {\n                        temp.push(userList[i]);\n                    }\n                }\n            }\n        }\n        setUsers(temp);\n    }\n\n    const sendMessage = () => {\n        dispatch(submitMessage());\n    }\n\n    const createChat = (them) => {\n        const body = {\n            you: [Cookies.get('username'), Cookies.get('firstName') + ' ' + Cookies.get('lastName')],\n            them: them,\n        }\n        dispatch(submitGroup(body));\n        setQuery('');\n    }\n\n    const textChange = (e) => {\n        dispatch(handleTextChange(e.target.value));\n    }\n\n    const groupChange = (group) => {\n        dispatch(handleGroupChange(group));\n    }\n\n    const inGroup = (members) => {\n        for (var i=0; i < members.length; i++) {\n            if (Cookies.get('username') === members[i][0]) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    let mainComponent =\n        <div className=\"main\">\n            <div className=\"side-bar\">\n                {groups.map((group, i) =>\n                    (inGroup(group.members)) ? (\n                        <div key={i}>\n                            <button onClick={() => groupChange(group)}>\n                                {group.members.map((member, i) => \n                                    (member[0] !== Cookies.get('username')) && (\n                                        member[1]\n                                    )\n                                )}\n                                <br />\n                            </button>\n                        </div>\n                    ) : (\n                        <div key={i}></div>\n                    )\n                )}\n            </div>\n            <div className=\"chat-area\">\n                {messages.map((message, i) =>\n                    ((message.group === currentGroup._id) && (message.author === Cookies.get('firstName') + ' ' + Cookies.get('lastName'))) ? (\n                        <div key={i} className=\"message right\">\n                            <p>{message.author}</p>\n                            <div className=\"message-container\">\n                                <div className=\"your-message\">\n                                    {message.message}\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        ((message.group === currentGroup._id) && (message.author !== Cookies.get('firstName') + ' ' + Cookies.get('lastName'))) && (\n                            <div key={i} className=\"message\">\n                                <p>{message.author}</p>\n                                <div className=\"message-container\">\n                                    <div className=\"other-message\">\n                                        {message.message}\n                                    </div>\n                                </div>\n                            </div>\n                        ) \n                    )\n                )}\n                <div className=\"message-field\">\n                    <input\n                        placeholder=\"Send Message...\"\n                        value={text}\n                        onChange={textChange}\n                        onKeyPress={(e) => {\n                            if (e.key === 'Enter') {\n                                sendMessage();\n                            }\n                        }}\n                    />\n                    <button onClick={sendMessage}>Send</button>\n                </div>\n            </div>\n        </div>\n\n    if (query !== '') {\n        mainComponent =\n            <div>\n                {users.map((user, i) => (\n                    <div key={i} className=\"search-result\">\n                        <div>\n                            <h3>{user.firstName} {user.surname}</h3>\n                            <p>{user.username}</p>\n                        </div>\n                        <button onClick={() => createChat([user.username, user.firstName + ' ' + user.lastName])}>Chat</button>\n                    </div>\n                ))}\n            </div>\n    }\n\n    return (\n        <div className=\"messenger\">\n            <nav>\n                <input\n                    placeholder=\"Search User...\"\n                    value={query}\n                    onChange={search}\n                />\n                <button onClick={logOut}>Log Out</button>\n            </nav>\n            {mainComponent}\n        </div >\n    );\n};\n\nconst mapStateToProps = state => ({\n    isLoading: state.userReducer.isLoading,\n    text: state.messageReducer.text,\n    currentGroup: state.groupReducer.group,\n    groups: state.groupReducer.groups,\n    messages: state.messageReducer.messages,\n});\n\nexport default connect(mapStateToProps)(Messenger);"]},"metadata":{},"sourceType":"module"}